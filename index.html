<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" /> 
<script src="SPARQLWrapper.js" type="text/javascript"></script>
<script src="jquery.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="magic-check.css">
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<style type="text/css">
	#main{
		margin-top: 150px;
	}
	img {
	    width: 100%;
	    height: 100%;
	}
	.opt{height:30px;line-height:24px;float: left;margin-left: 7px}
   
</style>
</head>

<body>
	<div>
		<div><img src="banner.jpg"></div>
		<div class="row">
		  <div class="col-md-4 col-md-offset-4">
		    <div class="input-group">
		      <input type="text" placeholder="仅支持英文输入" class="form-control" id="searchValue" aria-label="...">
		      <div class="input-group-btn">
		        <button type="button" class="btn btn-primary dropdown-toggle" onclick="search()">搜索</button>
		      </div><!-- /btn-group -->
		    </div><!-- /input-group -->
		    <div style="margin-top: 10px">
		    	<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" value="Film" id="c1" checked="">
					<label for="c1">电影</label>
				</div>
				<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" value="Book" id="c2">
					<label for="c2">书籍</label>
				</div>
				<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" value="Game" id="c3">
					<label for="c3">游戏</label>
				</div> 
				<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" id="c4">
					<label for="c4">电影&游戏</label>
				</div>
				<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" id="c5">
					<label for="c5">书籍&游戏</label>
				</div>
				<div class="opt">
					<input class="magic-checkbox" type="radio" name="layout" id="c6">
					<label for="c6">电影&书籍</label>
				</div>  
		    </div>
		  </div><!-- /.col-lg-6 -->
		</div><!-- /.row -->
		<div class="row">
			<div></div>
		</div>
	</div>
	
<script>


var sparql = new SPARQLWrapper("http://dbpedia.org/sparql");



function search(){
	var searchValue = $("#searchValue").val();
	if(searchValue == ""||searchValue==null){
		alert("请输入搜索内容")
		return;
	}
	var type = $("input[name='layout']:checked").val();
	var value = "'"+searchValue+"'";
	var sql = "select distinct ?result ?name where { ?result rdf:type dbo:"+type+"; rdfs:label ?name. filter regex(?name, "+value+")} LIMIT 10"
	sparql.setQuery(sql)

	sparql.query(function(json){
		console.log(json);
	});
}



</script>
</body> 
</html> 
